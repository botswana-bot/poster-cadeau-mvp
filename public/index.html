<!doctype html>
<html lang="fr">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Poster cadeau — aperçu MVP</title>
    <link rel="stylesheet" href="/app.css" />
  </head>
  <body>
    <div class="container">
      <div class="topbar">
        <div class="logo"><span class="logoMark"></span>Poster cadeau</div>
        <div class="segment" role="tablist" aria-label="Navigation">
          <a class="active" href="#">Explorer</a>
          <a href="/about.html">Guide</a>
        </div>
      </div>

      <section class="hero">
        <div class="heroCard">
          <h1 class="heroTitle">Ton cadeau “affiche de film”.</h1>
          <p class="heroLead">
            Choisis un style, écris une tagline, et vois <b>2 aperçus</b> avant de commander.
            <br />
            A4 • 19€ • France métropolitaine (livraison en plus)
          </p>

          <div class="searchRow">
            <div class="searchPill" aria-hidden="true">
              <span class="searchIcon"></span>
              <span class="searchText">Rechercher un style (MVP)</span>
            </div>
            <a class="btn primary" href="/create.html">Créer</a>
          </div>

          <div class="pills">
            <span class="pill">2 aperçus</span>
            <span class="pill">Photoréaliste</span>
            <span class="pill">Tagline gentille ou sarcastique</span>
          </div>

          <p class="notice" style="margin-top:12px">
            Démo visuelle : images exemples (pas encore de génération IA réelle).
          </p>
        </div>
      </section>

      <div class="hr"></div>

      <h2 style="margin:0 0 10px;font-size:18px">Choisis ton style</h2>
      <div id="styles" class="grid"></div>

      <div class="footer">
        Note : ceci est un prototype visuel (pas de génération IA réelle, pas de paiement, pas de POD).
      </div>
    </div>

    <script type="module">
      import { STYLES, escapeHtml } from "/app.js";

      const el = document.querySelector('#styles');
      const styleThumb = (id) => {
        const map = {
          action: '/assets/poster-action.svg',
          comedy: '/assets/poster-comedy.svg',
          adventure: '/assets/poster-adventure.svg',
          scifi: '/assets/poster-scifi.svg',
          magazine: '/assets/poster-magazine.svg',
          vintage: '/assets/poster-vintage.svg',
        };
        return map[id] || '/assets/poster-action.svg';
      };

      el.innerHTML = STYLES.map(s => `
        <a class="card" href="/create.html" style="display:block">
          <div class="thumb"><img src="${styleThumb(s.id)}" alt="" loading="lazy" /></div>
          <h3>${escapeHtml(s.name)}</h3>
          <p>${escapeHtml(s.blurb)}</p>
          <div style="margin-top:10px;display:flex;gap:8px;align-items:center">
            <span class="pill" style="border-color:rgba(255,255,255,.16)">2 aperçus</span>
            <span class="pill" style="border-color:rgba(255,255,255,.16)">A4</span>
          </div>
        </a>
      `).join('');
    </script>
  </body>
</html>
